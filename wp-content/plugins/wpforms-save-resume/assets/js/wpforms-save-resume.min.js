"use strict";var WPFormsSaveResume=window.WPFormsSaveResume||function(s,r,o){var a,i,n,t,m,f={init:function(){o(s).on("click",".wpforms-save-resume-button",f.showSaveResume),o(s).on("click",".wpforms-save-resume-disclaimer-back",f.goBack),o(s).on("click",".wpforms-save-resume-disclaimer-continue",f.showConfirmation),o(s).on("click",".wpforms-save-resume-shortcode-copy",f.copyShortcodeToClipboard),o(s).on("change",".wpforms-field-email input[type=email]",f.validateEmail)},showSaveResume:function(e){a=o(e.target).closest("form.wpforms-form"),i=a.parent().parent(),t=a.find(".wpforms-submit-container").is(":visible"),f.scrollToTop(a.offset().top-75,750),1<=i.find(".wpforms-save-resume-disclaimer").length?f.showDisclaimer(e):f.showConfirmation(e)},prepareData:function(e){n=new FormData(e.get(0)),m=e.data("formid"),n.append("action","wpforms_save_resume"),n.append("page_url",r.location.href)},showDisclaimer:function(e){e.preventDefault(),f.prepareData(a),a.find(".wpforms-field-container, .wpforms-submit-container, .wpforms-recaptcha-container, .wpforms-page-indicator ").hide(),i.find(".wpforms-save-resume-disclaimer").detach().insertAfter(a).show()},showConfirmation:function(e){e.preventDefault(),i.find(".wpforms-save-resume-disclaimer").hide(),f.prepareData(a),a.find(".wpforms-field-container, .wpforms-submit-container, .wpforms-recaptcha-container, .wpforms-page-indicator ").hide(),i.find(".wpforms-save-resume-confirmation").detach().insertAfter(a).show(),f.sendData(e)},sendData:function(){var e;n&&m&&(f.debug("Sending"),e={type:"post",dataType:"json",url:wpforms_save_resume.ajaxurl,data:n,cache:!1,contentType:!1,processData:!1},o.ajax(e).done(function(e){0<e.data.hash.length&&(f.debug("Sent"),i.find(".wpforms-save-resume-entry-id").val(e.data.entry_id),i.find(".wpforms-save-resume-shortcode").val(e.data.hash))}),n=new FormData)},goBack:function(e){e.preventDefault();e=a.find(".wpforms-submit-container");i.find(".wpforms-save-resume-disclaimer").hide(),!1!==t&&e.show(),a.find(".wpforms-field-container, .wpforms-recaptcha-container, .wpforms-page-indicator").show()},copyShortcodeToClipboard:function(){var e=i.find(".wpforms-save-resume-shortcode"),a=i.find(".wpforms-save-resume-shortcode-copy");e.prop("disabled",!1).select().prop("disabled",!0),s.execCommand("copy");var o=a.find("i");o.removeClass("fa-files-o").addClass("fa-check"),r.setTimeout(function(){o.removeClass("fa-check").addClass("fa-files-o")},2500),f.debug("Copied")},validateEmail:function(e){e.preventDefault(),o(a).validate({errorClass:"wpforms-error",validClass:"wpforms-valid",rules:{email:{required:!0,email:!0}},messages:{email:wpforms_settings.val_email},submitHandler:function(e){e.submit()}})},scrollToTop:function(e,a){a=a||1e3,o("html, body").animate({scrollTop:parseInt(e,10)},{duration:a})},debug:function(e){r.location.hash&&"#wpformsfadebug"===r.location.hash&&console.log("WPForms S&R: "+e)}};return f}(document,window,jQuery);WPFormsSaveResume.init();